(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e29b596"],{"6c8d":function(e,n,o){"use strict";n["a"]=[{label:"基本图标",list:["el-icon-platform-eleme","el-icon-eleme","el-icon-delete-solid","el-icon-delete","el-icon-s-tools","el-icon-setting","el-icon-user-solid","el-icon-user","el-icon-phone","el-icon-phone-outline","el-icon-more","el-icon-more-outline","el-icon-s-shop","el-icon-s-marketing","el-icon-s-flag","el-icon-s-comment","el-icon-s-grid","el-icon-s-data","el-icon-s-cooperation","el-icon-s-order","el-icon-s-platform","el-icon-s-fold","el-icon-s-unfold","el-icon-s-operation","el-icon-s-promotion","el-icon-s-home","el-icon-s-release","el-icon-s-ticket","el-icon-s-management","el-icon-s-open","el-icon-watermelon","el-icon-picture","el-icon-picture-outline","el-icon-s-goods","el-icon-goods","el-icon-picture-outline-round","el-icon-upload","el-icon-camera-solid","el-icon-camera","el-icon-video-camera-solid","el-icon-video-camera","el-icon-message-solid","el-icon-bell","el-icon-thumb"]},{label:"方向图标",list:["el-icon-bottom-left","el-icon-bottom-right","el-icon-back","el-icon-right","el-icon-bottom","el-icon-top","el-icon-top-left","el-icon-top-right","el-icon-arrow-left","el-icon-arrow-right","el-icon-arrow-down","el-icon-arrow-up","el-icon-d-arrow-left","el-icon-d-arrow-right","el-icon-sort","el-icon-sort-up","el-icon-sort-down","el-icon-d-caret","el-icon-caret-left","el-icon-caret-right","el-icon-caret-bottom","el-icon-caret-top"]},{label:"符号图标",list:["el-icon-plus","el-icon-minus","el-icon-close","el-icon-check","el-icon-info","el-icon-warning","el-icon-question","el-icon-error","el-icon-success","el-icon-remove","el-icon-circle-plus","el-icon-question","el-icon-info"]}]},b8e0:function(e,n,o){"use strict";o.r(n);var t=function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("div",{staticClass:"app-container calendar-list-container"},[o("basic-container",[o("avue-crud",{ref:"crud",attrs:{option:e.tableOption,data:e.tableData,"row-key":"row => { return row.menuId }","table-loading":e.tableLoading},on:{"on-load":e.getPage,"refresh-change":e.refreshChange,"row-update":e.handleUpdate,"row-save":e.handleSave,"row-del":e.handleDel},scopedSlots:e._u([{key:"menu",fn:function(n){return[o("el-button",{attrs:{type:"text",icon:"el-icon-plus",size:"small",plain:""},on:{click:function(o){return e.addChildrenMenu(n.row,n.index)}}},[e._v("添加下级菜单")])]}}]),model:{value:e.form,callback:function(n){e.form=n},expression:"form"}})],1)],1)},i=[],l=o("2909"),a=(o("4de4"),o("d3b7"),o("b0c0"),o("fa99")),c=o("6c8d"),r={dialogDrag:!1,dialogWidth:"640",headerAlign:"center",align:"center",border:!0,viewBtn:!0,columnBtn:!1,labelSuffix:" ",column:[{label:"上级菜单",prop:"parentId",type:"tree",hide:!0,props:{label:"name",value:"id"},rules:[{required:!0,message:"请选择上级菜单",trigger:"change"}]},{label:"菜单名称",prop:"menuName",align:"left",width:200,rules:[{required:!0,message:"名称不能为空",trigger:"blur"}]},{label:"菜单类型",prop:"menuType",type:"select",slot:!0,dicData:[{label:"目录",value:1},{label:"菜单",value:2},{label:"按钮",value:3}],rules:[{required:!0,message:"请选择类型",trigger:"blur"}]},{label:"排序",prop:"sort",type:"number",rules:[{required:!0,message:"排序不能为空",trigger:"blur"}]},{label:"图标",prop:"menuIron",type:"icon",iconList:c["a"],slot:!0,display:!1},{label:"菜单路径",prop:"applicationUrl",display:!1},{label:"前端组件",prop:"component",span:24,display:!1}]},s=(o("2f62"),{name:"sysMenu",data:function(){return{form:{},tableOption:r,tableData:[],tableLoading:!1}},watch:{"form.menuType":function(){var e=this.tableOption.column[4],n=this.tableOption.column[5],o=this.tableOption.column[6];1!==this.form.menuType&&2!==this.form.menuType||(e.display=!0,n.display=!0,o.display=!0),3===this.form.menuType&&(e.display=!1,n.display=!0,o.display=!1)}},created:function(){},computed:{},methods:{getPage:function(){var e=this;this.tableLoading=!0,Object(a["d"])().then((function(n){var o=n.data;e.tableData=e.transData(Object(l["a"])(o));var t=e.tableData,i=[{id:0,menuId:"0",name:"顶级",menuName:"顶级",parentId:"0",children:t}];e.$refs.crud.DIC.parentId=i,e.tableLoading=!1})).catch((function(){e.tableLoading=!1}))},transData:function(e){var n,o=this;return 0==e.length?[]:(n=e.filter((function(e){return e.id=e.menuId,e.name=e.menuName,e.children&&e.children.length&&(e.children=o.transData(e.children)),!0})),n)},handleDel:function(e,n){var o=this,t=this;this.$confirm("是否确认删除此数据","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(a["b"])(e.menuId)})).then((function(e){t.$message({showClose:!0,message:"删除成功",type:"success"}),o.getPage(o.page)})).catch((function(e){}))},handleUpdate:function(e,n,o,t){var i=this;Object(a["c"])(e).then((function(e){i.$message({showClose:!0,message:"修改成功",type:"success"}),o(),i.getPage(i.page)})).catch((function(){t()}))},handleSave:function(e,n,o){var t=this;Object(a["a"])(e).then((function(e){t.$message({showClose:!0,message:"添加成功",type:"success"}),n(),t.getPage(t.page)})).catch((function(){o()}))},refreshChange:function(e){this.getPage(this.page)},addChildrenMenu:function(e,n){this.form.parentId=e.id,this.$refs.crud.rowAdd()}}}),u=s,d=o("2877"),p=Object(d["a"])(u,t,i,!1,null,null,null);n["default"]=p.exports},fa99:function(e,n,o){"use strict";o.d(n,"a",(function(){return i})),o.d(n,"c",(function(){return l})),o.d(n,"b",(function(){return a})),o.d(n,"d",(function(){return c}));var t=o("b775");function i(e){return Object(t["a"])({url:"/menu/add",method:"post",data:e})}function l(e){return Object(t["a"])({url:"/menu/edit",method:"post",data:e})}function a(e){return Object(t["a"])({url:"/menu/delete/".concat(e),method:"get"})}function c(){return Object(t["a"])({url:"/menu/menuList",method:"get"})}}}]);