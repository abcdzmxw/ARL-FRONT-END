(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e6371"],{9895:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container calendar-list-container"},[n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.tableOption,page:e.page,data:e.list,search:e.search,"table-loading":e.listLoading,"before-open":e.beforeOpen,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"on-load":e.getPage,"search-change":e.searchChange,"refresh-change":e.refreshChange},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-refresh"},on:{click:e.handleSync}},[e._v("更新")]),n("el-button",{attrs:{size:"small",icon:"el-icon-delete"},on:{click:e.handleEmpty}},[e._v("清空")])],1)],2)],1)],1)},s=[],c=(n("d3b7"),n("b775"));function i(e){return Object(c["a"])({url:"/poc/",method:"GET",params:e,isReturnNativeResponse:!0})}function o(){return Object(c["a"])({url:"/poc/sync/",method:"GET"})}function r(){return Object(c["a"])({url:"/poc/delete/",method:"GET"})}var l={dialogDrag:!1,dialogHeight:560,labelWidth:"130",border:!0,index:!0,indexLabel:"序号",stripe:!0,menuAlign:"center",menuWidth:0,menu:!1,align:"center",viewBtn:!1,excelBtn:!1,addBtn:!1,delBtn:!1,editBtn:!1,columnBtn:!1,printBtn:!1,menuType:"text",searchMenuSpan:6,searchShow:!0,searchIndex:3,searchIcon:!0,size:"mini",column:[{label:"漏洞名称",prop:"vul_name",search:!0},{label:"应用",prop:"app_name",search:!0},{label:"类别",prop:"category",search:!0},{label:"协议",prop:"scheme",search:!0},{label:"更新时间",prop:"update_date",span:12}]},p={name:"MenuList",components:{},data:function(){return{search:{},tableOption:l,page:{total:0,currentPage:1,pageSize:10,ascs:[],descs:[]},paramsSearch:{},list:[],listLoading:!1,form:{}}},computed:{permissionList:function(){return{}}},watch:{},created:function(){},methods:{getPage:function(e,t){var n=this;this.listLoading=!0,i(Object.assign({page:e.currentPage,size:e.pageSize,descs:this.page.descs,ascs:this.page.ascs},t)).then((function(e){var t=e.data;200==t.code&&(n.list=t.items,n.page.total=t.total,n.page.currentPage=t.page,n.page.pageSize=t.size)})).catch((function(e){})).finally((function(){n.listLoading=!1}))},refreshChange:function(e){this.getPage(this.page)},searchChange:function(e,t){this.page.currentPage=1,this.getPage(this.page,this.filterForm(e)),t()},beforeOpen:function(e,t){e()},handleSubmit:function(e,t){var n=this;this.$confirm("是否确认".concat("1"==e.status?"撤销审核":"提交审核","?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={status:"1"==e.status?"0":"1"};submitObj(e.id,t).then((function(e){200==e.code?(n.$message({showClose:!0,message:e.message,type:"success"}),n.getPage(n.page)):n.$message({showClose:!0,message:e.message,type:"error"})}))})).catch((function(e){}))},handleSync:function(){var e=this;o().then((function(t){200==t.code&&e.getPage(e.page)}))},handleEmpty:function(){var e=this;r().then((function(t){200==t.code&&e.getPage(e.page)}))}}},u=p,h=n("2877"),g=Object(h["a"])(u,a,s,!1,null,null,null);t["default"]=g.exports}}]);